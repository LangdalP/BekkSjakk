@using BekkSjakk.Helpers
@model BekkSjakk.Models.ViewModels.IndexViewModel

<h1>Bekk Sjakk</h1>

<h2>Spillere</h2>
<table class="bekkere">
    <thead>
    <tr>
        <th>Navn</th>
        <th>Elo</th>
    </tr> 
    </thead>
    @foreach (var bekker in Model.Bekkere)
    {
        <tr>
            <td>@bekker.Navn</td>
            <td>@bekker.Elo</td>
        </tr>
    }
</table>

<h2>Partier</h2>
<table class="partier">
    <thead>
    <tr>
        <th>Når</th>
        <th>Hvit</th>
        <th>Svart</th>
        <th>Resultat</th>
    </tr> 
    </thead>
    @foreach (var parti in Model.Partier)
    {
        <tr>
            <td>@DateTimeOffsetDisplayHelper.DateTimeOffsetToRelativeString(parti.Dato)</td>
            <td>@parti.SpillerHvit</td>
            <td>@parti.SpillerSvart</td>
            <td>@parti.Resultat.ToString()</td>
            <td><a class="lichessLink" target="_blank" href="https://lichess.org/paste?pgn=@HttpUtility.UrlEncode(parti.Pgn)">Til analysebrett</a></td>
        </tr>
    }
</table>
